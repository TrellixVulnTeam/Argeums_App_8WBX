{"version":3,"sources":["webpack://ngx-select2.umd.min/webpack/universalModuleDefinition","webpack://ngx-select2.umd.min/webpack/bootstrap","webpack://ngx-select2.umd.min/external \"@angular/core\"","webpack://ngx-select2.umd.min/external \"@angular/forms\"","webpack://ngx-select2.umd.min/external \"@angular/common\"","webpack://ngx-select2.umd.min/./.tmp/select2/select2.component.ts","webpack://ngx-select2.umd.min/./.tmp/index.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","select2_component_LSelect2Component","LSelect2Component","_renderer","this","options","valueChange","core_","_onChange","_","_onTouched","ngOnInit","ngAfterViewInit","_this","_jqueryElement","$","selectControll","nativeElement","initSelect2","on","e","data","select2","_i","data_1","length","item","element","disabled","selected","multiple","type","emit","selectedValue","setSelect2Value","ngOnChanges","changes","JSON","stringify","previousValue","currentValue","ngOnDestroy","writeValue","undefined","registerOnChange","fn","registerOnTouched","hasClass","setElementProperty","assign","targetVal","Array","isArray","map","x","val","trigger","__decorate","LSelect2Component_1","selector","template","providers","provide","forms_","useExisting","multi","_tmp_LSelect2Module","LSelect2Module","_tmp_decorate","declarations","imports","common_"],"mappings":"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","file":"ngx-select2.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngx-select2.umd.min\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse\n\t\troot[\"ngx-select2.umd.min\"] = factory(root[\"@angular/core\"], root[\"@angular/forms\"], root[\"@angular/common\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import { Component, ViewChild, ElementRef, forwardRef, Input, Output, EventEmitter, SimpleChanges, Renderer } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\ndeclare let $: any;\r\n\r\n@Component({\r\n  selector: 'l-select2',\r\n  template: `\r\n    <select #selectControll [disabled]=\"disabled\" style=\"width: 100%\">\r\n      <ng-content select=\"option, optgroup\">\r\n      </ng-content>\r\n    </select>\r\n  `,\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => LSelect2Component),\r\n    multi: true\r\n  }]\r\n})\r\n\r\nexport class LSelect2Component implements ControlValueAccessor {\r\n\r\n  @ViewChild('selectControll')\r\n  selectControll: ElementRef;\r\n\r\n  @Input()\r\n  data: Array<any>;\r\n\r\n  @Input()\r\n  disabled: boolean;\r\n\r\n  @Input()\r\n  options: any = {};\r\n\r\n  @Output()\r\n  valueChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  selectedValue: any | Array<any>\r\n  _jqueryElement: any;\r\n\r\n  _onChange = (_: any) => { };\r\n  _onTouched = () => { };\r\n\r\n  constructor(\r\n    private _renderer: Renderer) {\r\n\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit() {\r\n    this._jqueryElement = $(this.selectControll.nativeElement);\r\n    this.initSelect2();\r\n\r\n    this._jqueryElement.on('select2:select select2:unselect', (e: any) => {\r\n      let data = this._jqueryElement.select2('data');\r\n      for (let item of data) {\r\n        delete item.element;\r\n        delete item.disabled;\r\n        delete item.selected;\r\n      }\r\n      if (!this.options.multiple) {\r\n        data = (e.type == 'select2:unselect') ? null : data[0];\r\n      }\r\n      this._onChange(data);\r\n      this.valueChange.emit(data);\r\n    });\r\n    if (this.selectedValue) {\r\n      this.setSelect2Value(this.selectedValue);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!this._jqueryElement) return;\r\n    if (changes['data'] && JSON.stringify(changes['data'].previousValue) !== JSON.stringify(changes['data'].currentValue)) {\r\n      this.initSelect2();\r\n      if (this.selectedValue) {\r\n        this.setSelect2Value(this.selectedValue);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._jqueryElement.select2('destroy');\r\n  }\r\n\r\n  writeValue(value: any | Array<any>): void {\r\n    this.selectedValue = value;\r\n    if (value !== null && value !== undefined)\r\n      this.setSelect2Value(value);\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  initSelect2() {\r\n    if (this._jqueryElement.hasClass('select2-hidden-accessible') == true) {\r\n      this._jqueryElement.select2('destroy');\r\n      this._renderer.setElementProperty(this.selectControll.nativeElement, 'innerHTML', '');\r\n    }\r\n\r\n    let options: any = {\r\n      data: this.data\r\n    };\r\n    Object.assign(options, this.options);\r\n    this._jqueryElement.select2(options);\r\n  }\r\n\r\n  setSelect2Value(value: any | Array<any>) {\r\n    if (!this._jqueryElement || !value) {\r\n      this.selectedValue = value;\r\n      return;\r\n    };\r\n    let targetVal = value['id'] || value;\r\n    if (Array.isArray(value)) {\r\n      targetVal = value.map(x => x['id']);\r\n    }\r\n    this._jqueryElement.val(targetVal).trigger('change');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { LSelect2Component } from './select2/select2.component';\r\nexport { LSelect2Component } from './select2/select2.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LSelect2Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: [\r\n    LSelect2Component\r\n  ]\r\n})\r\nexport class LSelect2Module { }\r\n"],"sourceRoot":""}